"use strict";(self.webpackChunkheng_docs=self.webpackChunkheng_docs||[]).push([[3616],{2579:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var r=t(4848),d=t(8453);const i={sidebar_position:5},o="Mid-level (II): Python API",s={id:"tutorial-basics/python_api",title:"Mid-level (II): Python API",description:"I.Preface",source:"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/tutorial-basics/python_api.md",sourceDirName:"tutorial-basics",slug:"/tutorial-basics/python_api",permalink:"/heng-docs/zh-Hans/docs/tutorial-basics/python_api",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tutorial-basics/python_api.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Mid-level (I): Advanced APP Operation",permalink:"/heng-docs/zh-Hans/docs/tutorial-basics/create_a_blog_post"},next:{title:"Mid-level (III): WebSocket API",permalink:"/heng-docs/zh-Hans/docs/tutorial-basics/deploy_your_site"}},c={},l=[{value:"I.Preface",id:"ipreface",level:2},{value:"II.Preparation Work",id:"iipreparation-work",level:2},{value:"2.1 Basic Knowledge",id:"21-basic-knowledge",level:3},{value:"2.2 Hardware\u200b",id:"22-hardware",level:3},{value:"2.3 Software",id:"23-software",level:3},{value:"III.Basic Usage",id:"iiibasic-usage",level:2},{value:"3.1 Get Status Information",id:"31-get-status-information",level:3},{value:"3.2 Remote Control Mode",id:"32-remote-control-mode",level:3},{value:"3.3 Edit Mode",id:"33-edit-mode",level:3},{value:"3.3.1 Body Swing",id:"331-body-swing",level:4},{value:"3.3.2 Squat Down and Stand Up",id:"332-squat-down-and-stand-up",level:4},{value:"3.3.3 Nodding and Shaking Head",id:"333-nodding-and-shaking-head",level:4},{value:"3.4 Teaching Demonstration Mode",id:"34-teaching-demonstration-mode",level:3},{value:"IV.Core API Manual",id:"ivcore-api-manual",level:2},{value:"4.1 Module Structure",id:"41-module-structure",level:3},{value:"4.2 Import Module \u200b",id:"42-import-module-",level:3},{value:"4.3 robot_control",id:"43-robot_control",level:3},{value:"4.3.1 Creating Objects",id:"431-creating-objects",level:4},{value:"4.3.2 Object Properties",id:"432-object-properties",level:4},{value:"4.3.3 Function",id:"433-function",level:4},{value:"4.4 teach_mode",id:"44-teach_mode",level:3},{value:"4.4.1 Creating Objects",id:"441-creating-objects",level:4},{value:"4.4.2 Function",id:"442-function",level:4},{value:"4.5 ctrl_mode",id:"45-ctrl_mode",level:3},{value:"4.5.1 Creating Objects",id:"451-creating-objects",level:4},{value:"4.5.2 Object Properties",id:"452-object-properties",level:4},{value:"4.5.3 Function",id:"453-function",level:4},{value:"4.6 edit_mode",id:"46-edit_mode",level:3},{value:"4.6.1 Creating Objects",id:"461-creating-objects",level:4},{value:"4.6.2 Object Properties",id:"462-object-properties",level:4},{value:"4.6.3 Function",id:"463-function",level:4},{value:"4.7 wave_mode",id:"47-wave_mode",level:3},{value:"4.7.1 Creating Objects",id:"471-creating-objects",level:4},{value:"4.7.2 Creating Objects",id:"472-creating-objects",level:4},{value:"V.Error and exception handling \u200b",id:"verror-and-exception-handling-",level:2},{value:"5.1 Disconnect",id:"51-disconnect",level:3},{value:"VI.Version",id:"viversion",level:2}];function a(e){const n={admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"mid-level-ii-python-api",children:"Mid-level (II): Python API"}),"\n",(0,r.jsx)(n.h2,{id:"ipreface",children:"I.Preface"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["In the previous sections, we familiarized ourselves with the basic and advanced usage of remote control. So the question is: What principle creates these effects?",(0,r.jsx)(n.br,{}),"\n","From this document, we will find the answer we are looking for!"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:'This section introduces how to use Python SDK to control the movement status of your Sparky. You can try using Python to learn robot control and complete the secondary development of your Sparky by following the interfaces and instances we provide. Before reading this document, please learn the section "Unboxing: Entry-level configuration and usage" for a basic understanding of Sparky.'}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"sparky",src:t(3601).A+"",width:"5616",height:"3744"})}),"\n",(0,r.jsx)(n.h2,{id:"iipreparation-work",children:"II.Preparation Work"}),"\n",(0,r.jsx)(n.p,{children:"Before entering the study of secondary development, let's finish some preparatory work to make the follow-up learning process easier."}),"\n",(0,r.jsx)(n.h3,{id:"21-basic-knowledge",children:"2.1 Basic Knowledge"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Possess a foundation in Python programming language and understand basic syntax concepts such as object-oriented programming and interactive interpretation."}),"\n",(0,r.jsx)(n.li,{children:"Familiar with the basic operations of Sparky and able to use the App to control Sparky."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"22-hardware",children:"2.2 Hardware\u200b"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Hardware: a Sparky."}),"\n",(0,r.jsx)(n.li,{children:"Environment: a clean desktop or flat work surface."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"23-software",children:"2.3 Software"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Sparky: Connect to the same LAN as the computer and obtain the IP address from the screen."}),"\n",(0,r.jsx)(n.li,{children:"PC: The Python environment (including Git repository with pip) has been installed, and the development SDK can be obtained through the following two methods."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pip install hengbot-api\n\ngit clone https://github.com/Hengbot-Dynamics/hengbot-api.git\n"})}),"\n",(0,r.jsx)(n.h2,{id:"iiibasic-usage",children:"III.Basic Usage"}),"\n",(0,r.jsx)(n.admonition,{title:"TAKE CARE",type:"danger",children:(0,r.jsxs)(n.p,{children:["The following code contains relevant configuration of Sparky's IP address. Please change it to the correct Sparky local IP address before using it.\nThis is an example:",(0,r.jsx)(n.code,{children:"IP = '192.168.8.139'"})]})}),"\n",(0,r.jsx)(n.h3,{id:"31-get-status-information",children:"3.1 Get Status Information"}),"\n",(0,r.jsx)(n.p,{children:"Send commands to obtain information on the battery, hardware error status, and network information of Sparky."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from hengbot import sparky\n# set IP\nIP = '192.168.8.139'\ndef test_get_status(ip):\n    # connect through ip\n    with sparky.robot_control(ip) as robot:\n        if robot.isconnected:\n            # get information\n            data = robot.get_status()\n            print(data)\n        else:\n            print(\"wait connecting...\")\ntest_get_status(IP)\n"})}),"\n",(0,r.jsx)(n.p,{children:"The information will be returned in the form of json, which is sorted as follows:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "Battery_Information": {\n        "Battery_Capacity": "2340",\n        "Battery_Life": "87",\n        "Battery_Percentage": "93.6",\n        "Battery_Status_Indicator": "Discharging",\n        "Charging_Time": "65535",\n        "Current": "-1.62",\n        "Instantaneous_Power": "-11.664",\n        "Temperature": "36",\n        "Voltage": "7.2"\n    },\n    "Hardware_Error_Status": {\n        "AIA": {\n            "BackLeftLeg": "Not_in_place",\n            "BackRightLeg": "Overheating",\n            "FrontLeftLeg": "Overload",\n            "FrontRightLeg": "NONE"\n        },\n        "Robot": {\n            "Global": "Low_Power"\n        }\n    },\n    "Network_Information": {\n        "Client_IP_Address": "192.168.8.211",\n        "Device_IP_Address": "192.168.8.237",\n        "SSID": "test"\n    },\n    "feedback": "Get_Status"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"32-remote-control-mode",children:"3.2 Remote Control Mode"}),"\n",(0,r.jsx)(n.p,{children:"First, use the following code to enter the remote control mode and control Sparky to make a circle. After running the code here, Sparky will start to make a circle. Please place it on an open and flat ground or table."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from hengbot import sparky\n# set IP\nIP = '192.168.8.139'\ndef test_circles(ip, timeout = 10):\n    import time\n    # connect through ip\n    with sparky.robot_control(ip) as robot:\n        # switch to control mode and return to control mode operation object\n        ctrl = robot.switch_mode(sparky.MODE_CTRL)\n        # wait for readiness\n        time.sleep(0.5)\n        # make it turn in circles\n        ctrl.movex = 1\n        ctrl.movew = 0.5\n        ctrl.headyaw = 1\n        ctrl.speed = ctrl.SPEED_NORMAL\n        # synchronized to Sparky\n        ctrl.sync()\n        time.sleep(timeout)\ntest_circles(IP)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"33-edit-mode",children:"3.3 Edit Mode"}),"\n",(0,r.jsx)(n.p,{children:"After entering editing mode, we will write keyframes to implement a series of actions."}),"\n",(0,r.jsx)(n.h4,{id:"331-body-swing",children:"3.3.1 Body Swing"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from hengbot import sparky\n# set IP\nIP = '192.168.8.139'\ndef test_swing(ip):\n    import time\n    # connect through ip\n    with sparky.robot_control(ip) as robot:\n        # switch to edit mode and return to edit mode operation object\n        edit = robot.switch_mode(sparky.MODE_EDIT)\n        for i in range(5):\n            edit.yaw = 0.3\n            edit.headyaw = 0.5\n            # Waiting to move\n            time.sleep(1)\n            edit.yaw = -0.3\n            edit.headyaw = -0.5\n            time.sleep(1)\ntest_swing(IP)\n"})}),"\n",(0,r.jsx)(n.h4,{id:"332-squat-down-and-stand-up",children:"3.3.2 Squat Down and Stand Up"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from hengbot import sparky\n# set IP\nIP = '192.168.8.139'\ndef test_crouch(ip, timeout = 5):\n    import time\n    # connect through ip\n    with sparky.robot_control(ip) as robot:\n        # switch to edit mode and return to edit mode operation object\n        edit = robot.switch_mode(sparky.MODE_EDIT)\n        # set speed\n        edit.acc = edit.SPEED_SLOWEST\n        edit.speed = edit.SPEED_SLOWEST\n        # set the position of the legs\n        edit.back_left_leg_z = 50\n        edit.back_right_leg_z = 50\n        time.sleep(timeout)\ntest_crouch(IP)\n"})}),"\n",(0,r.jsx)(n.h4,{id:"333-nodding-and-shaking-head",children:"3.3.3 Nodding and Shaking Head"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from hengbot import sparky\n# set IP\nIP = '192.168.8.139'\ndef test_shake_head(ip, timeout = 3):\n    import time\n    # connect through ip\n    with sparky.robot_control(ip) as robot:\n        # switch to edit mode and return to edit mode operation object\n        edit = robot.switch_mode(sparky.MODE_EDIT)\n        # set speed\n        edit.acc = edit.SPEED_SLOWEST\n        edit.speed = edit.SPEED_SLOWEST\n        # nodded\n        for i in range(3):\n            edit.headpitch = 0.5\n            time.sleep(0.5)\n            edit.headpitch = -0.5\n            time.sleep(0.5)\n        edit.headpitch = 0\n        # Shake head\n        for i in range(3):\n            edit.headyaw = 0.5\n            time.sleep(0.5)\n            edit.headyaw = -0.5\n            time.sleep(0.5)\n        edit.headyaw = 0\n        time.sleep(timeout)\ntest_shake_head(IP)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"34-teaching-demonstration-mode",children:"3.4 Teaching Demonstration Mode"}),"\n",(0,r.jsx)(n.p,{children:"After experiencing the editing mode above, we came to the teaching demonstration mode to record and play the action."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from hengbot import sparky\n# set IP\nIP = '192.168.8.139'\ndef test_play(ip, timeout = 10):\n    import time\n    # connect through ip\n    with sparky.robot_control(ip) as robot:\n        # switch to teach mode and return to edit teach operation object\n        teach = robot.switch_mode(sparky.MODE_TEACH)\n        print('start record')\n        teach.start_record()\n        time.sleep(timeout)\n        print('stop record')\n        teach.stop_record()\n        # time.sleep(timeout)\n        print('start play')\n        teach.start_play()\n        time.sleep(timeout)\n        print('stop play')\ntest_play(IP)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"ivcore-api-manual",children:"IV.Core API Manual"}),"\n",(0,r.jsx)(n.h3,{id:"41-module-structure",children:"4.1 Module Structure"}),"\n",(0,r.jsx)(n.p,{children:"There are 5 types of operation objects in the module, namely robot_comtrol, teach_mode\uff0cctrl_mode\uff0cedit_mode\uff0cwave_mode\u3002"}),"\n",(0,r.jsx)(n.p,{children:"Create a robot_comtrol connection to Sparky and use robot_comtrol.switch_mode to obtain the corresponding mode operation object."}),"\n",(0,r.jsx)(n.h3,{id:"42-import-module-",children:"4.2 Import Module \u200b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from hengbot import sparky\n"})}),"\n",(0,r.jsx)(n.h3,{id:"43-robot_control",children:"4.3 robot_control"}),"\n",(0,r.jsx)(n.h4,{id:"431-creating-objects",children:"4.3.1 Creating Objects"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"IP = '192.168.8.237'\nwith sparky.robot_control(IP) as robot_control:\n"})}),"\n",(0,r.jsx)(n.h4,{id:"432-object-properties",children:"4.3.2 Object Properties"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"robot_control.battery_percentage\uff08Return battery level\uff09"}),"\n",(0,r.jsx)(n.li,{children:"robot_control.isconnected \uff08Return whether it is currently connected\uff09"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"433-function",children:"4.3.3 Function"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Callback","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"robot_control.add_message_callback\uff08oAdd a message callback function\uff09"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def msgCallback(robot_control, message):\n    print(message)\nrobot_control.add_message_callback(msgCallback)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"robot_control.del_message_callback (Delete a message callback function)"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pythoon",children:"robot_control.del_message_callback(msgCallback)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"robot_control.add_error_callback (Add an error callback function)"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def errCallback(robot_control, err_msg):\n    print('err')\nrobot_control.add_error_callback(errCallback)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"robot_control.del_error_callback (Delete an error callback function)"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"robot_control.del_error_callback(errCallback)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"robot_control.add_connected_callback (Add a connection callback function)"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def openCallback(robot_control):\n    print('connected')\nrobot_control.add_connected_callback(openCallback)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"robot_control.del_connected_callback (Delete a connection callback function)"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"robot_control.del_connected_callback(openCallback)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"robot_control.add_close_callback (Add a close callback function)"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def closeCallback(robot_control, close_msg):\n    print('close')\nrobot_control.add_close_callback(closeCallback)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"robot_control.del_close_callback (Delete a close callback function)"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"robot_control.del_close_callback(closeCallback)\n"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Function"}),(0,r.jsx)(n.th,{children:"Attribute"}),(0,r.jsx)(n.th,{children:"Remarks"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"robot_control.switch_mode(target)"}),(0,r.jsx)(n.td,{children:"Switch Sparky working mode"}),(0,r.jsxs)(n.td,{children:["target:",(0,r.jsx)(n.code,{children:"sparky.MODE_CTRL"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.MODE_TEACH"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.MODE_EDIT"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.MODE_WAVE"})," can be selected to return the corresponding mode operation object."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"robot_control.reset()"}),(0,r.jsx)(n.td,{children:"Restore Sparky's posture"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"robot_control.get_status()"}),(0,r.jsx)(n.td,{children:"The information will be returned in the form of json, which is sorted as follows"}),(0,r.jsx)(n.td,{})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "Battery_Information": {\n        "Battery_Capacity": "2340",\n        "Battery_Life": "87",\n        "Battery_Percentage": "93.6",\n        "Battery_Status_Indicator": "Discharging",\n        "Charging_Time": "65535",\n        "Current": "-1.62",\n        "Instantaneous_Power": "-11.664",\n        "Temperature": "36",\n        "Voltage": "7.2"\n    },\n    "Hardware_Error_Status": {\n        "AIA": {\n            "BackLeftLeg": "Not_in_place",\n            "BackRightLeg": "Overheating",\n            "FrontLeftLeg": "Overload",\n            "FrontRightLeg": "NONE"\n        },\n        "Robot": {\n            "Global": "Low_Power"\n        }\n    },\n    "Network_Information": {\n        "Client_IP_Address": "192.168.8.211",\n        "Device_IP_Addres": "192.168.8.237",\n        "SSID": "test"\n    },\n    "feedback": "Get_Status"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"44-teach_mode",children:"4.4 teach_mode"}),"\n",(0,r.jsx)(n.h4,{id:"441-creating-objects",children:"4.4.1 Creating Objects"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"teach_mode = robot_control.switch_mode(sparky.MODE_TEACH)\n"})}),"\n",(0,r.jsx)(n.h4,{id:"442-function",children:"4.4.2 Function"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Function"}),(0,r.jsx)(n.th,{children:"Attribute"}),(0,r.jsx)(n.th,{children:"Remarks"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"teach_mode.start_record(save_path=None):"})}),(0,r.jsx)(n.td,{children:"Start recording"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"save_path"}),":The"," storage location for recorded data, which is not saved by default"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"teach_mode.stop_record()"})}),(0,r.jsx)(n.td,{children:"Stop recording"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"teach_mode.start_play(play_path=None)"})}),(0,r.jsx)(n.td,{children:"Start playing"}),(0,r.jsxs)(n.td,{children:["play_path",":Retrieve"," data location, default to using recorded data which is not saved."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"teach_mode.get_parameter()"})}),(0,r.jsxs)(n.td,{children:["To obtain the torque output configuration of the motor, it is necessary to add a message callback reception in ",(0,r.jsx)(n.code,{children:"robot_comtrol"})," and return it in JSON format as shown below"]}),(0,r.jsx)(n.td,{})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "feedback": "Get_Parameter",\n    "list": [{\n        "type": "AIA_HEAD",\n        "value": "Limit"\n    }, {\n        "type": "AIA_FrontLeft",\n        "value": "Limit"\n    }, {\n        "type": "AIA_FrontRight",\n        "value": "Limit"\n    }, {\n        "type": "AIA_BackLeft",\n        "value": "Limit"\n    }, {\n        "type": "AIA_BackRight",\n        "value": "Limit"\n    }],\n    "parameter": "Output_Torque"\n}\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"teach_mode.set_parameter(type, value)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Set motor torque output"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"type(optional)"}),(0,r.jsx)(n.th,{children:"value(optional)"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"sparky.PARM_TYPE_HEAD"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.PARM_TYPE_FRONTLEFT"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.PARM_TYPE_FRONTRIGHT"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.PARM_TYPE_BACKLEFT"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.PARM_TYPE_BACKRIGHT"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.PARM_TYPE_ALL"})]}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"sparky.PARM_VALUE_ENABLE"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.PARM_VALUE_DISABLE"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.PARM_VALUE_LIMIT"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.PARM_VALUE_UNLIMIT"})]})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"45-ctrl_mode",children:"4.5 ctrl_mode"}),"\n",(0,r.jsx)(n.h4,{id:"451-creating-objects",children:"4.5.1 Creating Objects"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"ctrl_mode = robot_control.switch_mode(sparky.MODE_CTRL)\n"})}),"\n",(0,r.jsx)(n.h4,{id:"452-object-properties",children:"4.5.2 Object Properties"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Object"}),(0,r.jsx)(n.th,{children:"Properties"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ctrl_mode.movex"}),(0,r.jsx)(n.td,{children:"Set the x-axis speed within the range of [1, -1], with a maximum forward and backward speed of 0.28m/s."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ctrl_mode.movey"}),(0,r.jsx)(n.td,{children:"Set the y-axis speed within the range of [1, -1], with a maximum forward and backward speed of 0.28m/s."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ctrl_mode.movew"}),(0,r.jsx)(n.td,{children:"Set the angular velocity of counterclockwise movement on the z-axis within the range of [1, -1], with a maximum rotation speed of 2rad/s."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ctrl_mode.headpitch"}),(0,r.jsx)(n.td,{children:"Range of [1,-1] rad"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ctrl_mode.headyaw"}),(0,r.jsx)(n.td,{children:"Range of [1,-1] rad"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ctrl_mode.pitch"}),(0,r.jsx)(n.td,{children:"Range of [1,-1] rad"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ctrl_mode.yaw"}),(0,r.jsx)(n.td,{children:"Range of [1,-1] rad"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ctrl_mode.roll"}),(0,r.jsx)(n.td,{children:"Range of [1,-1] rad"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ctrl_mode.tranx"}),(0,r.jsx)(n.td,{children:"Range of [1,-1] The range of motion is 20mm forward and backward"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ctrl_mode.trany"}),(0,r.jsx)(n.td,{children:"Range of [1,-1] The range of motion is 20mm left and right"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ctrl_mode.tranz"}),(0,r.jsx)(n.td,{children:"Range of [1,-1] The range of motion is 30mm up and down"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ctrl_mode.speed"}),(0,r.jsxs)(n.td,{children:["Options:",(0,r.jsx)(n.code,{children:"ctrl_mode.SPEED_FAST"}),"\u3001",(0,r.jsx)(n.code,{children:"ctrl_mode.SPEED_NORMAL"})]})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"453-function",children:"4.5.3 Function"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Function"}),(0,r.jsx)(n.th,{children:"Purpose"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ctrl_mode.sync()"}),(0,r.jsx)(n.td,{children:"Synchronize the settings to Sparky."})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"46-edit_mode",children:"4.6 edit_mode"}),"\n",(0,r.jsx)(n.h4,{id:"461-creating-objects",children:"4.6.1 Creating Objects"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"edit_mode= robot_control.switch_mode(sparky.MODE_EDIT)\n"})}),"\n",(0,r.jsx)(n.h4,{id:"462-object-properties",children:"4.6.2 Object Properties"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Object"}),(0,r.jsx)(n.th,{children:"Property"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.pitch"}),(0,r.jsx)(n.td,{children:"Range of [1,-1] rad"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.roll"}),(0,r.jsx)(n.td,{children:"Range of [1,-1] rad"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.yaw"}),(0,r.jsx)(n.td,{children:"Range of [1,-1] rad"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.headpitch"}),(0,r.jsx)(n.td,{children:"Range of [1,-1] rad"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.headyaw"}),(0,r.jsx)(n.td,{children:"Range of [1,-1] rad"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.tranx"}),(0,r.jsx)(n.td,{children:"Body displacement in X-axis direction, range [-50,50]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.trany"}),(0,r.jsx)(n.td,{children:"Body displacement in Y-axis direction, range [-50,50]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.tranz"}),(0,r.jsx)(n.td,{children:"Body displacement in Z-axis direction, range [0,141]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.front_left_leg_x"}),(0,r.jsx)(n.td,{children:"X of front left foot, range [-25,175]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.front_left_leg_y"}),(0,r.jsx)(n.td,{children:"Y of front left foot, range [-45,155]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.front_left_leg_z"}),(0,r.jsx)(n.td,{children:"Z of front left foot, range [-100,100]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.front_right_leg_x"}),(0,r.jsx)(n.td,{children:"X of front right foot, range [-25,175]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.front_right_leg_y"}),(0,r.jsx)(n.td,{children:"Y of front right foot, range [-155,45]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.front_right_leg_z"}),(0,r.jsx)(n.td,{children:"Z of front right foot, range [-100,100]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.back_left_leg_x"}),(0,r.jsx)(n.td,{children:"X of rear left foot, range [-175,25]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.back_left_leg_y"}),(0,r.jsx)(n.td,{children:"Y of rear left foot, range [-45,155]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.back_left_leg_z"}),(0,r.jsx)(n.td,{children:"Z of rear left foot, range [-100,100]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.back_right_leg_x"}),(0,r.jsx)(n.td,{children:"X of rear right foot, range [-175,25]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.back_right_leg_y"}),(0,r.jsx)(n.td,{children:"Y of rear right foot, range [-155,45]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.back_right_leg_z"}),(0,r.jsx)(n.td,{children:"Z of rear right foot, range [-100,100]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.acc"}),(0,r.jsxs)(n.td,{children:["Options: ",(0,r.jsx)(n.code,{children:"edit_mode.SPEED_FASTEST"}),"\u3001",(0,r.jsx)(n.code,{children:"edit_mode.SPEED_FAST"}),"\u3001",(0,r.jsx)(n.code,{children:"edit_mode.SPEED_SLOW"}),"\u3001",(0,r.jsx)(n.code,{children:"edit_mode.SPEED_SLOWEST"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"speed"}),(0,r.jsxs)(n.td,{children:["Options: ",(0,r.jsx)(n.code,{children:"edit_mode.SPEED_FASTEST"}),"\u3001",(0,r.jsx)(n.code,{children:"edit_mode.SPEED_FAST"}),"\u3001",(0,r.jsx)(n.code,{children:"edit_mode.SPEED_SLOW"}),"\u3001",(0,r.jsx)(n.code,{children:"edit_mode.SPEED_SLOWEST"})]})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"463-function",children:"4.6.3 Function"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"edit_mode.get_parameter()"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["To obtain the torque output configuration of the motor, it is necessary to add a message callback reception in robot_comtrol and return it in ",(0,r.jsx)(n.code,{children:"JSON"})," format as shown below:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "feedback": "Get_Parameter",\n    "list": [{\n        "type": "AIA_HEAD",\n        "value": "Limit"\n    }, {\n        "type": "AIA_FrontLeft",\n        "value": "Limit"\n    }, {\n        "type": "AIA_FrontRight",\n        "value": "Limit"\n    }, {\n        "type": "AIA_BackLeft",\n        "value": "Limit"\n    }, {\n        "type": "AIA_BackRight",\n        "value": "Limit"\n    }],\n    "parameter": "Output_Torque"\n}\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"edit_mode.set_parameter(type, value)"})," \xa0Set the torque output of the motor"]})}),"\n"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"type (optional)"}),(0,r.jsx)(n.th,{children:"value (optional)"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"sparky.PARM_TYPE_HEAD"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.PARM_TYPE_FRONTLEFT"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.PARM_TYPE_FRONTRIGHT"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.PARM_TYPE_BACKLEFT"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.PARM_TYPE_BACKRIGHT"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.PARM_TYPE_ALL"})]}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"sparky.PARM_VALUE_ENABLE"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.PARM_VALUE_DISABLE"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.PARM_VALUE_LIMIT"}),"\u3001",(0,r.jsx)(n.code,{children:"sparky.PARM_VALUE_UNLIMIT"})]})]})})]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Function"}),(0,r.jsx)(n.th,{children:"Purpose"}),(0,r.jsx)(n.th,{children:"Remarks"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.save(path='keyframe.txt', index=None)"}),(0,r.jsx)(n.td,{children:"Save the current keyframe settings to a file"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"path"}),": file address\uff0c ",(0,r.jsx)(n.code,{children:"index"}),": which line, fill in to overwrite the specified line, and add it backwards by default."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"edit_mode.read(path='keyframe.txt', index=0)"}),(0,r.jsx)(n.td,{children:"Read specified line to settings"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"path"}),": file address\uff0c",(0,r.jsx)(n.code,{children:"index"}),": which line, the first line by default."]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"47-wave_mode",children:"4.7 wave_mode"}),"\n",(0,r.jsx)(n.h4,{id:"471-creating-objects",children:"4.7.1 Creating Objects"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"wave_mode= robot_control.switch_mode(sparky.MODE_WAVE)\n"})}),"\n",(0,r.jsx)(n.h4,{id:"472-creating-objects",children:"4.7.2 Creating Objects"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5bf9\u8c61"}),(0,r.jsx)(n.th,{children:"\u5c5e\u6027"}),(0,r.jsx)(n.th,{children:"\u5907\u6ce8"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"wave_mode.bpm"}),(0,r.jsx)(n.td,{children:"Control global bpm"}),(0,r.jsx)(n.td,{children:"By default, there are 60 beats per minute"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"wave_mode.wave_mode"}),(0,r.jsx)(n.td,{children:"Control waveform type"}),(0,r.jsx)(n.td,{children:"1: Sine wave, 2: Square wave, 3: S-shaped curve"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"wave_mode.positive_ratio"}),(0,r.jsxs)(n.td,{children:["The proportion of the positive half cycle to the entire cycle is ",(0,r.jsx)(n.code,{children:"0 < ratio <= 1"})]}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"wave_mode.amplitude_1"}),(0,r.jsx)(n.td,{children:"Amplitude"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"wave_mode.frequency_1"}),(0,r.jsx)(n.td,{children:"Duty cycle"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"wave_mode.amplitude_2"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"wave_mode.frequency_2"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"wave_mode.amplitude_3"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"wave_mode.frequency_3"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"verror-and-exception-handling-",children:"V.Error and exception handling \u200b"}),"\n",(0,r.jsx)(n.h3,{id:"51-disconnect",children:"5.1 Disconnect"}),"\n",(0,r.jsx)(n.p,{children:"If Sparky is disconnected, the error callback function will receive information at this time, and Sparky will automatically enter the recovery operation."}),"\n",(0,r.jsx)(n.p,{children:"But if it has disconnected for a long time, please check whether Sparky's own network status is normal? Whether to display the IP address."}),"\n",(0,r.jsx)(n.h2,{id:"viversion",children:"VI.Version"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Version"}),(0,r.jsx)(n.th,{children:"Purpose"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"0.0.1"}),(0,r.jsx)(n.td,{children:"Achieve basic functions"})]})})]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},3601:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/sparky-096ae94b3d25f8e00d8a6aff73319ed5.jpg"},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>s});var r=t(6540);const d={},i=r.createContext(d);function o(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);